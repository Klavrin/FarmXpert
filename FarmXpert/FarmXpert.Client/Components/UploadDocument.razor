<div class="d-flex flex-column flex-lg-row justify-content-between align-items-start align-items-sm-center gap-3 mt-5">
    <MudText Class="text-nowrap mb-2 mb-sm-0" Typo="Typo.body1">@Title</MudText>
    <div class="bg-body-secondary line d-none d-lg-block" style="min-height: 2px; width: 100%;"></div>
    <MudFileUpload T="IBrowserFile" FilesChanged="@HandleFilesChanged">
        <ActivatorContent>
            <MudButton
                Style="width: max-content"
                Variant="Variant.Filled"
                Color="Color.Primary"
                StartIcon="@Icons.Material.Filled.CloudUpload">
                @ButtonText
            </MudButton>
        </ActivatorContent>
    </MudFileUpload>
</div>

@code {
    [Parameter] public string Title { get; set; } = string.Empty;
    [Parameter] public string ButtonText { get; set; } = string.Empty;
    [Parameter] public EventCallback<IBrowserFile> FilesChanged { get; set; }
    
    private async Task HandleFilesChanged(IBrowserFile file)
    {
        if (file == null) 
            return;

        if (FilesChanged.HasDelegate)
            await FilesChanged.InvokeAsync(file);
    }
}